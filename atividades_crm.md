As **atividades no Pipedrive** sÃ£o tarefas ou compromissos que vocÃª agenda para avanÃ§ar seus negÃ³cios em direÃ§Ã£o ao fechamento. Aqui estÃ¡ como elas funcionam:

## O que sÃ£o atividades?

No Pipedrive, as atividades representam qualquer aÃ§Ã£o agendada por vocÃª para fechar um negÃ³cio, incluindo ligaÃ§Ãµes, reuniÃµes, almoÃ§os, e-mails, etc. Podem ser agendadas atividades relacionadas a uma pessoa, organizaÃ§Ã£o, projeto, lead ou negÃ³cio.

## Tipos de atividades

O padrÃ£o configurado sÃ£o os tipos chamada, tarefa, prazo, e-mail ou almoÃ§o, mas tambÃ©m Ã© possÃ­vel criar tipos personalizados para atividades especÃ­ficas da sua empresa.

## Recursos principais

**VinculaÃ§Ã£o e organizaÃ§Ã£o:** VocÃª pode vincular atividades a negÃ³cios, contatos, organizaÃ§Ãµes, leads ou projetos, mantendo tudo conectado e rastreÃ¡vel.

**CalendÃ¡rio e sincronizaÃ§Ã£o:** VocÃª pode associar atividades a negÃ³cios e ver toda a sua lista de tarefas em uma pÃ¡gina fÃ¡cil de navegar que pode ser sincronizada com os calendÃ¡rios do Google e Microsoft.

**Lembretes:** O Pipedrive ainda envia lembretes para o seu dispositivo mÃ³vel.

**DetecÃ§Ã£o de estagnaÃ§Ã£o:** O Pipedrive oferece o recurso de estagnaÃ§Ã£o, que destaca negÃ³cios negligenciados e lembra vocÃª de entrar em aÃ§Ã£o antes que eles esfriem.

## GestÃ£o de equipe

Os gerentes podem ver as atividades planejadas ou atrasadas de cada membro da equipe, para saber como estÃ¡ o desempenho individual deles e ajudÃ¡-los a melhorar, se necessÃ¡rio.

## Fluxo de trabalho

O fluxo natural da interface Ã© baseado em aÃ§Ãµes, ou seja, o CRM encoraja os usuÃ¡rios a adicionar as prÃ³ximas atividades Ã  medida que as agendadas sÃ£o concluÃ­das. Na visualizaÃ§Ã£o de funil, vocÃª pode ver claramente quais negÃ³cios possuem atividades programadas, atrasadas ou nÃ£o atribuÃ­das.

A filosofia por trÃ¡s Ã© simples: vocÃª pode nÃ£o controlar o resultado de cada negociaÃ§Ã£o, mas pode controlar as aÃ§Ãµes que levam ao fechamento.

Que ideia excelente! Isso vai aumentar muito o engajamento da equipe e padronizar o processo de vendas. Vou estruturar tudo:

ExpansÃ£o do Plano - Atividades por Etapa + GamificaÃ§Ã£o
1. Conceito Geral
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         FUNIL DE VENDAS                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Prospect â”‚ Qualific. â”‚  Proposta â”‚ NegociaÃ§Ã£oâ”‚    Fechamento  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â¬œ Ligar  â”‚ â¬œ ReuniÃ£oâ”‚ â¬œ Enviar â”‚ â¬œ Follow â”‚ â¬œ Contrato     â”‚
â”‚ â¬œ Email  â”‚ â¬œ Demo   â”‚   propostaâ”‚    up     â”‚ â¬œ Onboarding  â”‚
â”‚           â”‚           â”‚           â”‚           â”‚                â”‚
â”‚  +20 pts  â”‚  +30 pts  â”‚  +40 pts  â”‚  +30 pts  â”‚    +50 pts     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      SISTEMA DE GAMIFICAÃ‡ÃƒO                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ðŸ¥‰ Bronze (0-500pts)    â†’ PrÃªmio: Folga meio perÃ­odo          â”‚
â”‚  ðŸ¥ˆ Prata (501-1500pts)  â†’ PrÃªmio: Vale presente R$100         â”‚
â”‚  ðŸ¥‡ Ouro (1501-3000pts)  â†’ PrÃªmio: Day off                     â”‚
â”‚  ðŸ’Ž Diamante (3001+)     â†’ PrÃªmio: BÃ´nus em dinheiro           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

2. Modelagem de Dados Completa
sql-- =====================================================
-- PARTE 1: ATIVIDADES POR ETAPA DO KANBAN
-- =====================================================

-- Templates de atividades configuradas por etapa
stage_activity_templates
â”œâ”€â”€ id
â”œâ”€â”€ pipeline_id
â”œâ”€â”€ stage_id
â”œâ”€â”€ activity_type_id
â”œâ”€â”€ title
â”œâ”€â”€ description
â”œâ”€â”€ is_required (obrigatÃ³ria ou sugerida)
â”œâ”€â”€ order (sequÃªncia)
â”œâ”€â”€ default_duration (minutos)
â”œâ”€â”€ default_due_days (vence em X dias apÃ³s entrar na etapa)
â”œâ”€â”€ points (pontos ao completar)
â”œâ”€â”€ company_id
â”œâ”€â”€ created_by
â””â”€â”€ timestamps

-- Atividades geradas a partir dos templates (por deal)
deal_stage_activities
â”œâ”€â”€ id
â”œâ”€â”€ deal_id
â”œâ”€â”€ stage_id
â”œâ”€â”€ stage_activity_template_id
â”œâ”€â”€ activity_id (referÃªncia Ã  atividade criada)
â”œâ”€â”€ status (pending, completed, skipped)
â”œâ”€â”€ completed_at
â”œâ”€â”€ completed_by
â”œâ”€â”€ points_earned
â””â”€â”€ timestamps

-- =====================================================
-- PARTE 2: GAMIFICAÃ‡ÃƒO
-- =====================================================

-- ConfiguraÃ§Ã£o de pontos por aÃ§Ã£o
point_rules
â”œâ”€â”€ id
â”œâ”€â”€ name (ex: "Completar ligaÃ§Ã£o", "Fechar deal", "AvanÃ§ar etapa")
â”œâ”€â”€ action_type (activity_completed, deal_won, stage_advanced, etc.)
â”œâ”€â”€ entity_type (nullable - Activity, Deal, Stage)
â”œâ”€â”€ entity_id (nullable - tipo especÃ­fico de atividade, etapa especÃ­fica)
â”œâ”€â”€ points
â”œâ”€â”€ multiplier (ex: 1.5x em determinados perÃ­odos)
â”œâ”€â”€ is_active
â”œâ”€â”€ company_id
â””â”€â”€ timestamps

-- HistÃ³rico de pontos ganhos
point_transactions
â”œâ”€â”€ id
â”œâ”€â”€ user_id
â”œâ”€â”€ points
â”œâ”€â”€ action_type
â”œâ”€â”€ description
â”œâ”€â”€ reference_type (Deal, Activity, etc.)
â”œâ”€â”€ reference_id
â”œâ”€â”€ point_rule_id
â”œâ”€â”€ period (YYYY-MM para ranking mensal)
â”œâ”€â”€ company_id
â””â”€â”€ timestamps

-- Saldo consolidado do usuÃ¡rio
user_points
â”œâ”€â”€ id
â”œâ”€â”€ user_id
â”œâ”€â”€ total_points (histÃ³rico total)
â”œâ”€â”€ current_points (perÃ­odo atual)
â”œâ”€â”€ period (YYYY-MM)
â”œâ”€â”€ current_tier_id
â”œâ”€â”€ company_id
â””â”€â”€ timestamps

-- Fases/NÃ­veis (Tiers)
gamification_tiers
â”œâ”€â”€ id
â”œâ”€â”€ name (Bronze, Prata, Ouro, Diamante)
â”œâ”€â”€ icon
â”œâ”€â”€ color
â”œâ”€â”€ min_points
â”œâ”€â”€ max_points (null para Ãºltimo nÃ­vel)
â”œâ”€â”€ order
â”œâ”€â”€ company_id
â””â”€â”€ timestamps

-- PrÃªmios/Recompensas
rewards
â”œâ”€â”€ id
â”œâ”€â”€ tier_id (prÃªmio vinculado a uma fase)
â”œâ”€â”€ name
â”œâ”€â”€ description
â”œâ”€â”€ image_url
â”œâ”€â”€ type (physical, digital, experience, bonus)
â”œâ”€â”€ value (valor em R$ se aplicÃ¡vel)
â”œâ”€â”€ is_active
â”œâ”€â”€ company_id
â””â”€â”€ timestamps

-- PrÃªmios resgatados/concedidos
user_rewards
â”œâ”€â”€ id
â”œâ”€â”€ user_id
â”œâ”€â”€ reward_id
â”œâ”€â”€ tier_id
â”œâ”€â”€ status (pending, approved, delivered, rejected)
â”œâ”€â”€ requested_at
â”œâ”€â”€ approved_at
â”œâ”€â”€ approved_by
â”œâ”€â”€ delivered_at
â”œâ”€â”€ notes
â”œâ”€â”€ period (YYYY-MM - referente a qual perÃ­odo)
â”œâ”€â”€ company_id
â””â”€â”€ timestamps

-- Conquistas/Badges (opcional, mas legal)
achievements
â”œâ”€â”€ id
â”œâ”€â”€ name (ex: "Primeira venda", "10 ligaÃ§Ãµes em um dia", "Streak 7 dias")
â”œâ”€â”€ description
â”œâ”€â”€ icon
â”œâ”€â”€ condition_type
â”œâ”€â”€ condition_value
â”œâ”€â”€ points_bonus
â”œâ”€â”€ is_active
â”œâ”€â”€ company_id
â””â”€â”€ timestamps

user_achievements
â”œâ”€â”€ id
â”œâ”€â”€ user_id
â”œâ”€â”€ achievement_id
â”œâ”€â”€ earned_at
â””â”€â”€ timestamps

-- ConfiguraÃ§Ãµes gerais de gamificaÃ§Ã£o
gamification_settings
â”œâ”€â”€ id
â”œâ”€â”€ company_id
â”œâ”€â”€ is_enabled
â”œâ”€â”€ reset_period (monthly, quarterly, yearly, never)
â”œâ”€â”€ show_leaderboard
â”œâ”€â”€ show_points_to_users
â”œâ”€â”€ notify_tier_change
â”œâ”€â”€ notify_achievement
â””â”€â”€ timestamps

3. Backend Laravel - Estrutura Expandida
Novos Models:
php// Models/StageActivityTemplate.php
class StageActivityTemplate extends Model
{
    public function stage() { return $this->belongsTo(Stage::class); }
    public function pipeline() { return $this->belongsTo(Pipeline::class); }
    public function activityType() { return $this->belongsTo(ActivityType::class); }
    
    // Gera atividades para um deal quando entra na etapa
    public function generateForDeal(Deal $deal): Activity
    {
        // LÃ³gica de criaÃ§Ã£o
    }
}

// Models/PointTransaction.php
class PointTransaction extends Model
{
    protected static function booted()
    {
        static::created(function ($transaction) {
            // Atualiza saldo do usuÃ¡rio
            app(GamificationService::class)->updateUserPoints($transaction->user_id);
        });
    }
}

// Models/GamificationTier.php
class GamificationTier extends Model
{
    public function rewards() { return $this->hasMany(Reward::class, 'tier_id'); }
    
    public static function getTierForPoints(int $points): ?self
    {
        return static::where('min_points', '<=', $points)
            ->where(fn($q) => $q->whereNull('max_points')->orWhere('max_points', '>=', $points))
            ->orderByDesc('min_points')
            ->first();
    }
}
Services:
php// Services/StageActivityService.php
class StageActivityService
{
    // Quando deal muda de etapa, gera atividades configuradas
    public function onDealStageChanged(Deal $deal, Stage $newStage): void
    {
        $templates = StageActivityTemplate::where('stage_id', $newStage->id)
            ->orderBy('order')
            ->get();
            
        foreach ($templates as $template) {
            $this->createActivityFromTemplate($deal, $template);
        }
    }
    
    // Verifica se todas atividades obrigatÃ³rias foram cumpridas
    public function canAdvanceStage(Deal $deal): bool
    {
        $pending = DealStageActivity::where('deal_id', $deal->id)
            ->where('stage_id', $deal->stage_id)
            ->whereHas('template', fn($q) => $q->where('is_required', true))
            ->where('status', 'pending')
            ->exists();
            
        return !$pending;
    }
    
    // Progresso das atividades da etapa atual
    public function getStageProgress(Deal $deal): array
    {
        $activities = DealStageActivity::where('deal_id', $deal->id)
            ->where('stage_id', $deal->stage_id)
            ->get();
            
        return [
            'total' => $activities->count(),
            'completed' => $activities->where('status', 'completed')->count(),
            'required_pending' => $activities->where('status', 'pending')
                ->filter(fn($a) => $a->template->is_required)->count(),
            'percentage' => // cÃ¡lculo
        ];
    }
}

// Services/GamificationService.php
class GamificationService
{
    // Adiciona pontos por uma aÃ§Ã£o
    public function awardPoints(
        User $user, 
        string $actionType, 
        ?Model $reference = null,
        ?string $description = null
    ): ?PointTransaction {
        $rule = $this->findMatchingRule($actionType, $reference);
        
        if (!$rule) return null;
        
        $points = $rule->points * ($rule->multiplier ?? 1);
        
        $transaction = PointTransaction::create([
            'user_id' => $user->id,
            'points' => $points,
            'action_type' => $actionType,
            'description' => $description ?? $rule->name,
            'reference_type' => $reference ? get_class($reference) : null,
            'reference_id' => $reference?->id,
            'point_rule_id' => $rule->id,
            'period' => now()->format('Y-m'),
            'company_id' => $user->company_id,
        ]);
        
        $this->checkTierPromotion($user);
        $this->checkAchievements($user);
        
        return $transaction;
    }
    
    // Verifica se usuÃ¡rio subiu de tier
    public function checkTierPromotion(User $user): void
    {
        $userPoints = $user->currentPoints;
        $newTier = GamificationTier::getTierForPoints($userPoints->current_points);
        
        if ($newTier && $newTier->id !== $userPoints->current_tier_id) {
            $oldTier = $userPoints->currentTier;
            $userPoints->update(['current_tier_id' => $newTier->id]);
            
            event(new UserTierChanged($user, $oldTier, $newTier));
        }
    }
    
    // Ranking/Leaderboard
    public function getLeaderboard(string $period = null, int $limit = 10): Collection
    {
        $period = $period ?? now()->format('Y-m');
        
        return UserPoints::where('period', $period)
            ->with(['user', 'currentTier'])
            ->orderByDesc('current_points')
            ->limit($limit)
            ->get();
    }
    
    // EstatÃ­sticas do usuÃ¡rio
    public function getUserStats(User $user): array
    {
        $points = $user->currentPoints;
        $tier = $points->currentTier;
        $nextTier = GamificationTier::where('min_points', '>', $points->current_points)
            ->orderBy('min_points')
            ->first();
            
        return [
            'current_points' => $points->current_points,
            'total_points' => $points->total_points,
            'current_tier' => $tier,
            'next_tier' => $nextTier,
            'points_to_next_tier' => $nextTier ? $nextTier->min_points - $points->current_points : null,
            'rank' => $this->getUserRank($user),
            'achievements' => $user->achievements,
            'recent_transactions' => $user->pointTransactions()->latest()->limit(10)->get(),
        ];
    }
}
Events & Listeners:
php// Quando atividade Ã© completada
class ActivityCompleted
{
    public function __construct(public Activity $activity, public User $user) {}
}

class AwardPointsForActivity
{
    public function handle(ActivityCompleted $event)
    {
        app(GamificationService::class)->awardPoints(
            $event->user,
            'activity_completed',
            $event->activity,
            "Completou: {$event->activity->title}"
        );
    }
}

// Quando deal avanÃ§a de etapa
class DealStageChanged
{
    public function __construct(
        public Deal $deal, 
        public Stage $oldStage, 
        public Stage $newStage,
        public User $user
    ) {}
}

class HandleDealStageChange
{
    public function handle(DealStageChanged $event)
    {
        // Gera atividades da nova etapa
        app(StageActivityService::class)->onDealStageChanged(
            $event->deal, 
            $event->newStage
        );
        
        // DÃ¡ pontos por avanÃ§ar
        app(GamificationService::class)->awardPoints(
            $event->user,
            'stage_advanced',
            $event->newStage,
            "AvanÃ§ou deal para: {$event->newStage->name}"
        );
    }
}
Rotas API:
php// Atividades por Etapa
Route::prefix('pipelines/{pipeline}/stages/{stage}')->group(function () {
    Route::apiResource('activity-templates', StageActivityTemplateController::class);
    Route::post('activity-templates/reorder', [StageActivityTemplateController::class, 'reorder']);
});

Route::get('deals/{deal}/stage-activities', [DealStageActivityController::class, 'index']);
Route::post('deals/{deal}/stage-activities/{activity}/complete', [DealStageActivityController::class, 'complete']);
Route::post('deals/{deal}/stage-activities/{activity}/skip', [DealStageActivityController::class, 'skip']);
Route::get('deals/{deal}/stage-progress', [DealStageActivityController::class, 'progress']);

// GamificaÃ§Ã£o
Route::prefix('gamification')->group(function () {
    Route::get('my-stats', [GamificationController::class, 'myStats']);
    Route::get('leaderboard', [GamificationController::class, 'leaderboard']);
    Route::get('tiers', [GamificationController::class, 'tiers']);
    Route::get('achievements', [GamificationController::class, 'achievements']);
    Route::get('my-rewards', [GamificationController::class, 'myRewards']);
    Route::post('rewards/{reward}/claim', [GamificationController::class, 'claimReward']);
});

// Admin - ConfiguraÃ§Ã£o
Route::prefix('admin/gamification')->middleware('admin')->group(function () {
    Route::apiResource('tiers', Admin\TierController::class);
    Route::apiResource('rewards', Admin\RewardController::class);
    Route::apiResource('point-rules', Admin\PointRuleController::class);
    Route::get('settings', [Admin\GamificationSettingsController::class, 'show']);
    Route::put('settings', [Admin\GamificationSettingsController::class, 'update']);
    Route::get('user-rewards', [Admin\UserRewardController::class, 'index']);
    Route::put('user-rewards/{userReward}/approve', [Admin\UserRewardController::class, 'approve']);
    Route::put('user-rewards/{userReward}/deliver', [Admin\UserRewardController::class, 'deliver']);
});
```

---

### 4. Frontend React - Componentes
```
src/
â”œâ”€â”€ features/
â”‚   â”œâ”€â”€ stage-activities/
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ StageActivityChecklist.jsx    # Lista de atividades da etapa
â”‚   â”‚   â”‚   â”œâ”€â”€ StageActivityItem.jsx         # Item individual
â”‚   â”‚   â”‚   â”œâ”€â”€ StageProgressBar.jsx          # Barra de progresso
â”‚   â”‚   â”‚   â”œâ”€â”€ StageActivityConfig.jsx       # Config admin por etapa
â”‚   â”‚   â”‚   â””â”€â”€ ActivityTemplateForm.jsx      # Form de template
â”‚   â”‚   â””â”€â”€ hooks/
â”‚   â”‚       â””â”€â”€ useStageActivities.js
â”‚   â”‚
â”‚   â””â”€â”€ gamification/
â”‚       â”œâ”€â”€ components/
â”‚       â”‚   â”œâ”€â”€ UserPointsBadge.jsx           # Badge com pontos no header
â”‚       â”‚   â”œâ”€â”€ TierBadge.jsx                 # Badge do tier atual
â”‚       â”‚   â”œâ”€â”€ PointsAnimation.jsx           # AnimaÃ§Ã£o +XX pontos
â”‚       â”‚   â”œâ”€â”€ Leaderboard.jsx               # Ranking
â”‚       â”‚   â”œâ”€â”€ LeaderboardItem.jsx
â”‚       â”‚   â”œâ”€â”€ UserStatsCard.jsx             # Card com stats do usuÃ¡rio
â”‚       â”‚   â”œâ”€â”€ TierProgress.jsx              # Progresso para prÃ³ximo tier
â”‚       â”‚   â”œâ”€â”€ AchievementsList.jsx          # Lista de conquistas
â”‚       â”‚   â”œâ”€â”€ AchievementBadge.jsx
â”‚       â”‚   â”œâ”€â”€ RewardsList.jsx               # PrÃªmios disponÃ­veis
â”‚       â”‚   â”œâ”€â”€ RewardCard.jsx
â”‚       â”‚   â”œâ”€â”€ PointsHistory.jsx             # HistÃ³rico de transaÃ§Ãµes
â”‚       â”‚   â””â”€â”€ GamificationDashboard.jsx     # Dashboard completo
â”‚       â”œâ”€â”€ admin/
â”‚       â”‚   â”œâ”€â”€ TierConfigForm.jsx
â”‚       â”‚   â”œâ”€â”€ RewardConfigForm.jsx
â”‚       â”‚   â”œâ”€â”€ PointRulesConfig.jsx
â”‚       â”‚   â””â”€â”€ PendingRewardsTable.jsx
â”‚       â””â”€â”€ hooks/
â”‚           â”œâ”€â”€ useGamification.js
â”‚           â”œâ”€â”€ useLeaderboard.js
â”‚           â””â”€â”€ usePointsAnimation.js
Componentes Chave:
jsx// StageActivityChecklist.jsx - Mostra no card do deal
function StageActivityChecklist({ deal }) {
  const { activities, progress, completeActivity } = useStageActivities(deal.id);
  
  return (
    <div className="stage-activities">
      <div className="progress-header">
        <StageProgressBar percentage={progress.percentage} />
        <span>{progress.completed}/{progress.total} atividades</span>
      </div>
      
      <div className="activity-list">
        {activities.map(activity => (
          <StageActivityItem 
            key={activity.id}
            activity={activity}
            onComplete={() => completeActivity(activity.id)}
          />
        ))}
      </div>
      
      {progress.required_pending > 0 && (
        <Alert type="warning">
          Complete {progress.required_pending} atividade(s) obrigatÃ³ria(s) 
          para avanÃ§ar o deal
        </Alert>
      )}
    </div>
  );
}

// PointsAnimation.jsx - Feedback visual de pontos ganhos
function PointsAnimation({ points, onComplete }) {
  return (
    <motion.div
      initial={{ opacity: 0, y: 20, scale: 0.5 }}
      animate={{ opacity: 1, y: -30, scale: 1 }}
      exit={{ opacity: 0, y: -50 }}
      onAnimationComplete={onComplete}
      className="points-popup"
    >
      +{points} pts ðŸŽ‰
    </motion.div>
  );
}

// GamificationDashboard.jsx
function GamificationDashboard() {
  const { stats, isLoading } = useGamification();
  
  return (
    <div className="gamification-dashboard">
      <div className="grid grid-cols-3 gap-6">
        {/* Stats do usuÃ¡rio */}
        <UserStatsCard stats={stats} />
        
        {/* Progresso para prÃ³ximo tier */}
        <TierProgress 
          currentTier={stats.current_tier}
          nextTier={stats.next_tier}
          pointsToNext={stats.points_to_next_tier}
          currentPoints={stats.current_points}
        />
        
        {/* Conquistas recentes */}
        <AchievementsList achievements={stats.achievements} />
      </div>
      
      {/* Leaderboard */}
      <Leaderboard className="mt-8" />
      
      {/* PrÃªmios disponÃ­veis */}
      <RewardsList 
        currentTier={stats.current_tier}
        className="mt-8" 
      />
    </div>
  );
}
```

---

### 5. Fluxo Visual
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        DEAL CARD NO KANBAN                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ðŸ¢ Empresa ABC                                         R$ 50.000    â”‚
â”‚  ðŸ‘¤ JoÃ£o Silva                                                       â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ðŸ“‹ Atividades da Etapa: QualificaÃ§Ã£o                         â”‚  â”‚
â”‚  â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 40%                              â”‚  â”‚
â”‚  â”‚                                                                â”‚  â”‚
â”‚  â”‚  âœ… LigaÃ§Ã£o inicial (+20 pts)                                  â”‚  â”‚
â”‚  â”‚  â¬œ ReuniÃ£o de descoberta (+30 pts) âš ï¸ ObrigatÃ³ria            â”‚  â”‚
â”‚  â”‚  â¬œ Enviar material (+15 pts)                                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                      â”‚
â”‚  âš ï¸ Complete a reuniÃ£o para avanÃ§ar                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           HEADER DO CRM                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ðŸ  Home  ðŸ“Š Deals  ðŸ‘¥ Contacts                    ðŸ† 1.250 pts     â”‚
â”‚                                                    ðŸ¥ˆ Prata          â”‚
â”‚                                           [Ver Ranking] [Meus PrÃªmios]â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       LEADERBOARD (RANKING)                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                        ðŸ† Dezembro 2024                              â”‚
â”‚                                                                      â”‚
â”‚  ðŸ¥‡ 1Âº  Maria Santos      ðŸ’Ž Diamante    3.450 pts   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â”‚
â”‚  ðŸ¥ˆ 2Âº  Carlos Lima       ðŸ¥‡ Ouro        2.890 pts   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     â”‚
â”‚  ðŸ¥‰ 3Âº  Ana Costa         ðŸ¥‡ Ouro        2.650 pts   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ      â”‚
â”‚     4Âº  Pedro Souza       ðŸ¥ˆ Prata       1.890 pts   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ         â”‚
â”‚  âž¡ï¸ 5Âº  VocÃª             ðŸ¥ˆ Prata       1.250 pts   â–ˆâ–ˆâ–ˆâ–ˆ           â”‚
â”‚     6Âº  Julia Alves       ðŸ¥‰ Bronze        890 pts   â–ˆâ–ˆâ–ˆ            â”‚
â”‚                                                                      â”‚
â”‚  ðŸ“ˆ Faltam 251 pts para ðŸ¥‡ Ouro                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 6. Admin - Telas de ConfiguraÃ§Ã£o

**ConfiguraÃ§Ã£o de Atividades por Etapa:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âš™ï¸ Configurar Atividades > Pipeline: Vendas B2B > Etapa: Proposta  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  ðŸ“‹ Atividades desta etapa:                    [+ Adicionar]         â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ â‰¡  ðŸ“ž LigaÃ§Ã£o de apresentaÃ§Ã£o                                 â”‚  â”‚
â”‚  â”‚    Tipo: LigaÃ§Ã£o | Prazo: 2 dias | Pontos: 25                 â”‚  â”‚
â”‚  â”‚    â¬œ ObrigatÃ³ria                              [Editar] [ðŸ—‘ï¸]  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ â‰¡  ðŸ“„ Enviar proposta comercial                               â”‚  â”‚
â”‚  â”‚    Tipo: Email | Prazo: 3 dias | Pontos: 40                   â”‚  â”‚
â”‚  â”‚    âœ… ObrigatÃ³ria                              [Editar] [ðŸ—‘ï¸]  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ â‰¡  ðŸ¤ ReuniÃ£o de negociaÃ§Ã£o                                   â”‚  â”‚
â”‚  â”‚    Tipo: ReuniÃ£o | Prazo: 5 dias | Pontos: 50                 â”‚  â”‚
â”‚  â”‚    âœ… ObrigatÃ³ria                              [Editar] [ðŸ—‘ï¸]  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ConfiguraÃ§Ã£o de GamificaÃ§Ã£o:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âš™ï¸ GamificaÃ§Ã£o > Fases e PrÃªmios                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  ðŸ”„ Reset de pontos: [Mensal â–¼]     âœ… Exibir leaderboard           â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  FASE           PONTOS          PRÃŠMIO                [AÃ§Ãµes]  â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚  ðŸ¥‰ Bronze      0 - 500         Certificado digital   [âœï¸][ðŸ—‘ï¸]â”‚ â”‚
â”‚  â”‚  ðŸ¥ˆ Prata       501 - 1500      Vale R$100           [âœï¸][ðŸ—‘ï¸]â”‚ â”‚
â”‚  â”‚  ðŸ¥‡ Ouro        1501 - 3000     Day Off              [âœï¸][ðŸ—‘ï¸]â”‚ â”‚
â”‚  â”‚  ðŸ’Ž Diamante    3001+           BÃ´nus R$500          [âœï¸][ðŸ—‘ï¸]â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                              [+ Adicionar Fase]      â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  REGRAS DE PONTOS                                    [+ Regra] â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚  Completar ligaÃ§Ã£o                              +15 pts        â”‚ â”‚
â”‚  â”‚  Completar reuniÃ£o                              +30 pts        â”‚ â”‚
â”‚  â”‚  AvanÃ§ar deal de etapa                          +20 pts        â”‚ â”‚
â”‚  â”‚  Fechar deal (ganho)                            +100 pts       â”‚ â”‚
â”‚  â”‚  Fechar deal > R$10.000                         +150 pts       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜